<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Genistar New Representative Enrolment - Context Diagram</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 30px;
        }
        
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 28px;
        }
        
        .subtitle {
            text-align: center;
            color: #7f8c8d;
            margin-bottom: 30px;
            font-size: 14px;
        }
        
        .diagram {
            position: relative;
            min-height: 800px;
            background: #f8f9fa;
            border-radius: 8px;
            padding: 40px;
        }
        
        .layer {
            position: relative;
            margin-bottom: 40px;
        }
        
        .layer-title {
            font-size: 14px;
            font-weight: bold;
            color: #495057;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .components {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            align-items: flex-start;
        }
        
        .component {
            background: white;
            border-radius: 8px;
            padding: 15px 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            min-width: 180px;
            border-left: 4px solid;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .component:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .component-title {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 5px;
            font-size: 14px;
        }
        
        .component-desc {
            font-size: 11px;
            color: #6c757d;
            line-height: 1.4;
        }
        
        /* Color coding by layer */
        .external { border-left-color: #e74c3c; }
        .security { border-left-color: #e67e22; }
        .gateway { border-left-color: #3498db; }
        .orchestration { border-left-color: #9b59b6; }
        .compute { border-left-color: #1abc9c; }
        .data { border-left-color: #34495e; }
        .messaging { border-left-color: #f39c12; }
        .monitoring { border-left-color: #16a085; }
        
        .legend {
            display: flex;
            gap: 20px;
            margin-top: 30px;
            flex-wrap: wrap;
            justify-content: center;
            padding-top: 20px;
            border-top: 2px solid #dee2e6;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 12px;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
        }
        
        .arrow {
            text-align: center;
            color: #95a5a6;
            font-size: 24px;
            margin: -20px 0;
        }
        
        .note {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin-top: 20px;
            border-radius: 4px;
            font-size: 13px;
            color: #856404;
        }
        
        .architecture-style {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .style-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }
        
        .style-box h3 {
            font-size: 14px;
            margin-bottom: 8px;
        }
        
        .style-box p {
            font-size: 11px;
            opacity: 0.9;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Genistar New Representative Enrolment System</h1>
        <p class="subtitle">Azure Cloud Architecture - Context Diagram</p>
        
        <div class="architecture-style">
            <div class="style-box">
                <h3>Architecture Pattern</h3>
                <p>Microservices with Event-Driven Design</p>
            </div>
            <div class="style-box">
                <h3>Security Model</h3>
                <p>Zero Trust with Defense in Depth</p>
            </div>
            <div class="style-box">
                <h3>Deployment Strategy</h3>
                <p>Strangler Fig Pattern Migration</p>
            </div>
        </div>
        
        <div class="diagram">
            <!-- External Users & Systems Layer -->
            <div class="layer">
                <div class="layer-title">External Users & Systems</div>
                <div class="components">
                    <div class="component external">
                        <div class="component-title">New Representatives</div>
                        <div class="component-desc">Candidate users completing enrolment process via web/mobile</div>
                    </div>
                    <div class="component external">
                        <div class="component-title">EVP Users</div>
                        <div class="component-desc">Executive Vice Presidents approving applications</div>
                    </div>
                    <div class="component external">
                        <div class="component-title">Compliance Team</div>
                        <div class="component-desc">Internal compliance approval workflow</div>
                    </div>
                    <div class="component external">
                        <div class="component-title">External APIs</div>
                        <div class="component-desc">TransUnion (AML/Vetting), Stripe (Payments), Mailjet (Email)</div>
                    </div>
                </div>
            </div>
            
            <div class="arrow">↓</div>
            
            <!-- Security & Entry Layer -->
            <div class="layer">
                <div class="layer-title">Security & Authentication Layer</div>
                <div class="components">
                    <div class="component security">
                        <div class="component-title">Auth0</div>
                        <div class="component-desc">Application-level authentication & authorization (OAuth2, JWT)</div>
                    </div>
                    <div class="component security">
                        <div class="component-title">Microsoft Entra ID</div>
                        <div class="component-desc">Infrastructure-level IAM, RBAC, Conditional Access, MFA</div>
                    </div>
                    <div class="component security">
                        <div class="component-title">Azure Key Vault</div>
                        <div class="component-desc">Secrets, certificates, and encryption key management</div>
                    </div>
                </div>
            </div>
            
            <div class="arrow">↓</div>
            
            <!-- Gateway & Firewall Layer -->
            <div class="layer">
                <div class="layer-title">Network Gateway & Protection</div>
                <div class="components">
                    <div class="component gateway">
                        <div class="component-title">Azure Application Gateway</div>
                        <div class="component-desc">L7 load balancer, TLS termination, routing</div>
                    </div>
                    <div class="component gateway">
                        <div class="component-title">Web Application Firewall (WAF)</div>
                        <div class="component-desc">OWASP protection, threat filtering</div>
                    </div>
                    <div class="component gateway">
                        <div class="component-title">Azure Firewall</div>
                        <div class="component-desc">Network-level egress control, FQDN filtering</div>
                    </div>
                </div>
            </div>
            
            <div class="arrow">↓</div>
            
            <!-- API Management Layer -->
            <div class="layer">
                <div class="layer-title">API Orchestration & Management</div>
                <div class="components">
                    <div class="component orchestration">
                        <div class="component-title">Azure API Management (APIM)</div>
                        <div class="component-desc">Central API gateway, versioning, policies, rate limiting, transformation</div>
                    </div>
                    <div class="component orchestration">
                        <div class="component-title">API Policies</div>
                        <div class="component-desc">JWT validation, throttling, caching, routing, logging</div>
                    </div>
                </div>
            </div>
            
            <div class="arrow">↓</div>
            
            <!-- Compute & Business Logic Layer -->
            <div class="layer">
                <div class="layer-title">Compute & Business Logic</div>
                <div class="components">
                    <div class="component compute">
                        <div class="component-title">Azure Container Apps</div>
                        <div class="component-desc">Serverless microservices hosting with Dapr integration</div>
                    </div>
                    <div class="component compute">
                        <div class="component-title">Azure Functions</div>
                        <div class="component-desc">Event-driven serverless compute for business logic</div>
                    </div>
                    <div class="component compute">
                        <div class="component-title">Azure Logic Apps</div>
                        <div class="component-desc">Workflow orchestration and integration automation</div>
                    </div>
                    <div class="component compute">
                        <div class="component-title">Azure App Services</div>
                        <div class="component-desc">Web apps, APIs, and backend services hosting</div>
                    </div>
                </div>
            </div>
            
            <div class="arrow">↓ ↕</div>
            
            <!-- Data & Messaging Layer -->
            <div class="layer">
                <div class="layer-title">Data Storage & Messaging</div>
                <div class="components">
                    <div class="component data">
                        <div class="component-title">Azure SQL Database</div>
                        <div class="component-desc">Relational data storage with geo-redundancy</div>
                    </div>
                    <div class="component messaging">
                        <div class="component-title">Azure Service Bus</div>
                        <div class="component-desc">Asynchronous messaging for decoupled workflows</div>
                    </div>
                    <div class="component data">
                        <div class="component-title">Azure Blob Storage</div>
                        <div class="component-desc">Document and file storage</div>
                    </div>
                </div>
            </div>
            
            <div class="arrow">↓</div>
            
            <!-- Monitoring & Operations Layer -->
            <div class="layer">
                <div class="layer-title">Monitoring, Logging & Security Operations</div>
                <div class="components">
                    <div class="component monitoring">
                        <div class="component-title">Azure Monitor</div>
                        <div class="component-desc">Platform metrics and alerts</div>
                    </div>
                    <div class="component monitoring">
                        <div class="component-title">Application Insights</div>
                        <div class="component-desc">Application performance monitoring and distributed tracing</div>
                    </div>
                    <div class="component monitoring">
                        <div class="component-title">Log Analytics</div>
                        <div class="component-desc">Centralized log aggregation and querying</div>
                    </div>
                    <div class="component monitoring">
                        <div class="component-title">Microsoft Defender</div>
                        <div class="component-desc">Security posture and threat protection</div>
                    </div>
                    <div class="component monitoring">
                        <div class="component-title">Microsoft Sentinel</div>
                        <div class="component-desc">SIEM/SOAR for security analytics (optional)</div>
                    </div>
                </div>
            </div>
            
            <!-- DevOps Layer -->
            <div class="layer">
                <div class="layer-title">DevOps & Automation</div>
                <div class="components">
                    <div class="component orchestration">
                        <div class="component-title">Azure DevOps</div>
                        <div class="component-desc">CI/CD pipelines, repos, boards, test plans</div>
                    </div>
                    <div class="component orchestration">
                        <div class="component-title">Infrastructure as Code</div>
                        <div class="component-desc">Bicep/ARM templates for automated deployment</div>
                    </div>
                    <div class="component orchestration">
                        <div class="component-title">Azure Policy</div>
                        <div class="component-desc">Governance and compliance enforcement</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="note">
            <strong>Key Architecture Principles:</strong>
            <ul style="margin-top: 10px; margin-left: 20px;">
                <li><strong>Zero Trust Security:</strong> All access explicitly verified with Auth0 and Microsoft Entra ID</li>
                <li><strong>Defense in Depth:</strong> Multiple security layers from WAF to network segmentation</li>
                <li><strong>Microservices Pattern:</strong> Container-based services with event-driven orchestration</li>
                <li><strong>API-First Design:</strong> Centralized management through APIM with versioning and policies</li>
                <li><strong>Strangler Fig Migration:</strong> Gradual replacement of legacy APIs while maintaining service</li>
                <li><strong>High Availability:</strong> Multi-zone deployment with geo-redundancy for critical services</li>
            </ul>
        </div>
        
        <div class="legend">
            <div class="legend-item">
                <div class="legend-color external"></div>
                <span>External Users/Systems</span>
            </div>
            <div class="legend-item">
                <div class="legend-color security"></div>
                <span>Security & Identity</span>
            </div>
            <div class="legend-item">
                <div class="legend-color gateway"></div>
                <span>Network Gateway</span>
            </div>
            <div class="legend-item">
                <div class="legend-color orchestration"></div>
                <span>Orchestration & API</span>
            </div>
            <div class="legend-item">
                <div class="legend-color compute"></div>
                <span>Compute Layer</span>
            </div>
            <div class="legend-item">
                <div class="legend-color data"></div>
                <span>Data Storage</span>
            </div>
            <div class="legend-item">
                <div class="legend-color messaging"></div>
                <span>Messaging</span>
            </div>
            <div class="legend-item">
                <div class="legend-color monitoring"></div>
                <span>Monitoring & Security</span>
            </div>
        </div>
    </div>
</body>
</html>
